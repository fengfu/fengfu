<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta property="og:type" content="website">
<meta property="og:title" content="宁静·致远">
<meta property="og:url" content="http://fengfu.io/page/4/index.html">
<meta property="og:site_name" content="宁静·致远">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="宁静·致远">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://fengfu.io/page/4/"/>





  <title>宁静·致远</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">宁静·致远</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/index.html" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-rss">
          <a href="/atom.xml" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br />
            
            RSS
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://fengfu.io/2016/03/22/技术栈选型原则/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="宁静·致远">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="宁静·致远">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/03/22/技术栈选型原则/" itemprop="url">技术栈选型原则</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-03-22T14:55:20+08:00">
                2016-03-22
              </time>
            

            

            
          </span>

          

          
            
          

          
          
             <span id="/2016/03/22/技术栈选型原则/" class="leancloud_visitors" data-flag-title="技术栈选型原则">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>未完成</p>
<p>2个能力</p>
<ol>
<li>满足需求的能力：开源产品满足自身功能、性能的能力(开发效率？运行效率？)；需求，梳理自身的业务、技术需求；</li>
<li>自身技术团队维护开源产品的能力；学习曲线以及公司内部的技术支持；</li>
</ol>
<p>3个关注点</p>
<ol>
<li>社区成熟度（用户数、bug数）、活跃度（contributors、releases）、技术支持（论坛、文档等）；</li>
<li>成功案例；</li>
</ol>
<p>避免过度炫技<br>不要因为一个人的喜好而舍弃掉整个技术团队，在任何时候这都是非常愚蠢的事情</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://fengfu.io/2016/03/08/JVM触发FullGC的情况总结/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="宁静·致远">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="宁静·致远">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/03/08/JVM触发FullGC的情况总结/" itemprop="url">JVM触发FullGC的情况总结</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-03-08T22:53:56+08:00">
                2016-03-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          
             <span id="/2016/03/08/JVM触发FullGC的情况总结/" class="leancloud_visitors" data-flag-title="JVM触发FullGC的情况总结">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>FullGC是Java应用中一个不容忽视的问题，因为FullGC会引起应用停顿，所以它对那些响应时间要求比较高的应用的影响还是非常大的。<br>当然，如果要解决FullGC的问题，我们首先需要知道在什么情况下会引起FullGC，这样才能对症下药，避免FullGC的出现。</p>
<p>下面的总结是针对于系统自动进行FullGC的情况分析，不包含System.gc操作。</p>
<h2 id="1-老年代空间不足"><a href="#1-老年代空间不足" class="headerlink" title="1. 老年代空间不足"></a>1. 老年代空间不足</h2><p>JVM中堆空间主要由新生代和老年代组成。新创建的对象大多在新生代中创建，当对象经过几次Minor GC依然存活，才有机会被转入老年代。这时问题就来了，如果此时老年代的空间不足以容纳从新生代转入的对象，那么JVM就会进行FullGC，以清理老年代的空间。如果进行FullGC后老年代依然无法容纳转入对象，那么系统就会抛出：java.lang.OutOfMemoryError: Java heap space的异常，相比大家都比较熟悉了。</p>
<h2 id="2-永久代空间不足"><a href="#2-永久代空间不足" class="headerlink" title="2. 永久代空间不足"></a>2. 永久代空间不足</h2><p>永久代(Permanent Generation)一般是用来存放类信息、字符串常量的地方，如果我们永久代设置的空间比较小无法容纳足够的类信息时，或者因为频繁热加载类信息，又或者存储了太多的字符串常量，那么系统就会触发FullGC，以清理永久代。如果FullGC之后永久代还无法容纳足够的信息，那么系统就会抛出：java.lang.OutOfMemoryError: PermGen space的异常，眼熟吧:)</p>
<h2 id="3-promotion-failed和concurrent-mode-failure"><a href="#3-promotion-failed和concurrent-mode-failure" class="headerlink" title="3. promotion failed和concurrent mode failure"></a>3. promotion failed和concurrent mode failure</h2><p>promotion failed是指在进行Minor GC时，新生代中的对象从Eden区往survivor区转移，但是survivor区放不下，只能放入老年代，但是悲催的是老年代也放不下，这时就会出现promotion failed的情况，系统会触发FullGC以清理空间。</p>
<p>concurrent mode failure是指在进行CMS GC的过程中有对象要放入老年代，但是老年代空间不够引起的。 </p>
<h2 id="4-统计得到的Minor-GC晋升到旧生代的平均大小大于旧生代的剩余空间"><a href="#4-统计得到的Minor-GC晋升到旧生代的平均大小大于旧生代的剩余空间" class="headerlink" title="4. 统计得到的Minor GC晋升到旧生代的平均大小大于旧生代的剩余空间"></a>4. 统计得到的Minor GC晋升到旧生代的平均大小大于旧生代的剩余空间</h2><p>这是一个较为复杂的触发情况，Hotspot为了避免由于新生代对象晋升到旧生代导致旧生代空间不足的现象，在进行Minor GC时，做了一个判断，如果之前统计所得到的Minor GC晋升到旧生代的平均大小大于旧生代的剩余空间，那么就直接触发Full GC。<br>例如程序第一次触发Minor GC后，有6MB的对象晋升到旧生代，那么当下一次Minor GC发生时，首先检查旧生代的剩余空间是否大于6MB，如果小于6MB，则执行Full GC。<br>当新生代采用PS GC时，方式稍有不同，PS GC是在Minor GC后也会检查，例如上面的例子中第一次Minor GC后，PS GC会检查此时旧生代的剩余空间是否大于6MB，如小于，则触发对旧生代的回收。<br>除了以上4种状况外，对于使用RMI来进行RPC或管理的Sun JDK应用而言，默认情况下会一小时执行一次Full GC。可通过在启动时通过- java -Dsun.rmi.dgc.client.gcInterval=3600000来设置Full GC执行的间隔时间或通过-XX:+ DisableExplicitGC来禁止RMI调用System.gc。</p>
<p>明确了FullGC出现的原理，我们就能根据JVM垃圾回收的情况来判断系统到底是因为什么原因出现了FullGC，也就能对症下药，避免FullGC的出现。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://fengfu.io/2016/02/28/你若懂我该有多好/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="宁静·致远">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="宁静·致远">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/02/28/你若懂我该有多好/" itemprop="url">你若懂我，该有多好</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-02-28T07:38:00+08:00">
                2016-02-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          
             <span id="/2016/02/28/你若懂我该有多好/" class="leancloud_visitors" data-flag-title="你若懂我，该有多好">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>每个人都有一个死角，<br>自己走不出来，<br>别人也闯不进去。<br>我把最深沉的秘密放在那里，<br>你不懂我，我不怪你。</p>
<p>每个人都有一道伤口，<br>或深或浅，<br>盖上布，<br>以为不存在。<br>我把最殷红的血涂在那里，<br>你不懂我，我不怪你。</p>
<p>每个人都有一场爱恋，<br>用心，用情，用力，<br>感动也感伤。<br>我把最炙热的心情藏在那里，<br>你不懂我，我不怪你。</p>
<p>每个人都有一行泪，<br>喝下冰冷的水，<br>酝酿成的热泪。<br>我把最辛酸的委屈汇在那里，<br>你不懂我，我不怪你。</p>
<p>每个人都有一段告白，<br>忐忑，不安，<br>却包含真心和勇气。<br>我把最抒情的语言用在那里，<br>你不懂我，我不怪你。</p>
<p>你永远也看不见我最爱你的时候，<br>因为我只有在看不见你的时候，<br>才最爱你。</p>
<p>同样，你永远也看不见我最寂寞的时候，<br>因为我只有在你看不见我的时候，<br>才最寂寞。</p>
<p>也许，我太会隐藏自己的悲伤，<br>也许，我太会安慰自己的伤痕。<br>从阴雨走到艳阳，<br>我路过泥泞，路过风。</p>
<p>一路走来，<br>你若懂我，<br>该有多好。</p>
<p>(作者：莫言)</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://fengfu.io/2015/12/29/ATPCO项目总结-管理篇/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="宁静·致远">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="宁静·致远">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/12/29/ATPCO项目总结-管理篇/" itemprop="url">ATPCO项目总结-管理篇</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-12-29T20:41:09+08:00">
                2015-12-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          
             <span id="/2015/12/29/ATPCO项目总结-管理篇/" class="leancloud_visitors" data-flag-title="ATPCO项目总结-管理篇">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>ATPCO项目从1月初开始投入人力进行研究，4月份进入封闭状态，7月初上线第一版，到现在已经8个月的时间了。在这段时间里，公布运价出票量由最初的10提升到了30%，目前日出票量已经达到了4000+，较好地提升了qunar国际机票的竞争力。</p>
<p>ATPCO项目经历的这接近1年的时间里，有很多的感触，写出来做个总结吧。今天写的是管理方面。</p>
<h2 id="1-反应速度"><a href="#1-反应速度" class="headerlink" title="1. 反应速度"></a>1. 反应速度</h2><p>项目启动最初，由于与ATPCO的商务合同没有签订，项目只投入了一个人进行研究，推动缓慢。加之团队对公布运价业务不熟悉，给了其他团队切入的机会，并最终导致了2个团队持续竞争的局面。虽然从公司的角度，一个重要的项目由2个团队做是降低风险的举措，但是由此带来的内部消耗也是比较大的，这也导致了后面的核心员工离职。<br>从这件事情来讲，对于任何事情，都要保持足够的敏感度和反应速度。互联网行业竞争激烈，需要快速反应。qunar内部的狼性文化也要求团队能够快速响应、灵活机动，这样才能更快地响应形势的变化。</p>
<h2 id="2-团队组建"><a href="#2-团队组建" class="headerlink" title="2. 团队组建"></a>2. 团队组建</h2><p>从团队组建上，有2点做得比较好，1点做得不好。<br>先说说做得好的地方：<br>1)在项目初期就把产品经理、技术拉到一个会议室封闭，这样带来的好处是沟通效率很高，项目有问题的时候大家在屋里吼一嗓子就能很快解决问题。当然弊端是十几个人在一个屋子里面，有的时候3、4组人一起说话的时候，那感觉就跟菜市场一样了。<br>2)投入精兵强将。项目开始封闭时，项目人员短缺，无奈之下，把部门里面6个TL中的4个拉了进来。此举起到了很好的效果，不仅解决了人力的问题，而且每个人都在自己负责的事情上做出了很好的成绩。这也应了那句话：兵不在多，在于精。<br>再说说做得不好的地方：<br>1)添油战术不可取：ATPCO项目专业性很强，新人的学习门槛很高，所以在往团队增加人手的时候，最好一次性给够。添油战术对这个项目最大的弊端就是新人需要花很久去学习（最少1个月时间入门），如果每个新来的人都要经历一个学习过程，那么所带来的成本和消耗就比较大了。</p>
<h2 id="3-沟通"><a href="#3-沟通" class="headerlink" title="3. 沟通"></a>3. 沟通</h2><p>再来说说沟通，沟通一直是管理工作中非常重要的一环，沟通做不好，工作难以开展不说，也会造成人员流失。<br>1）内部沟通<br>先说说内部沟通。<br>团队中每一个人都是一个独立的个体，具备不同的性格和不同的处事方式，每个人的诉求也是不一样的，所以对待每个人的方式也应该因人而异。但是，无论对谁，首先应该了解他的诉求。每个人来到公司都是有自己的诉求的，比如有的人比较关心技术积累、有的人关心成长空间、有的人关心薪水、有的人关心关系简单……如果不了解每个人的需求，那么可能就无法投其所好，给其所要。久而久之，如果这个人不主动跟你沟通，你又不能及时发现问题，那么久而久之，欲求不满的他可能就会闪人了。<br>2）外部沟通<br>下面的这些话不展开了说，说得太明白没意思。<br>有人的地方就有江湖，<br>有人的地方就有利益，<br>看不明白的就看利益。</p>
<p>你不可能只靠自己和团队，还需要外围的资源的支持，讲利益互换。你对别人有利，你才有机会，此处省略一万字……</p>
<p>公司大了，就像一个社会，你会遇到形形色色的人，你喜欢的，你讨厌的；你佩服的，你无视的……无论遇到什么样的人，都应该平和对待。一花一世界，一叶一菩提，每个人都值得尊重。</p>
<h2 id="4-用人"><a href="#4-用人" class="headerlink" title="4. 用人"></a>4. 用人</h2><p>管理就是把合适的人用在合适的位置上，不合适的人要尽快替换，让合适的人顶上去。<br>这里要说的是招聘，不同的项目，对人的要求是不一样的。针对项目的招聘工作，一定要清楚需要什么样的人，严格按照要求招聘。如果招到的人不合适，不仅浪费时间浪费资源，对项目、对应聘者都会产生不利影响。ATPCO是一个专业性很强的项目，学习门槛很高，对人的学习、理解、沟通能力要求都很高，甚至心理素质。项目组成立半年多以来，项目组成员几进几出。有的人适应不了环境自己离职，有的人则是胜任不了被淘汰，这其实都是损失。</p>
<h2 id="5-分工"><a href="#5-分工" class="headerlink" title="5. 分工"></a>5. 分工</h2><p>首先是将系统拆分，每个人负责独立的事情。在系统建设初期，可以采用服务化的方式将功能拆分，以加快开发速度。但是到了项目后期，系统稳定后，可以再把服务聚合起来。</p>
<p>其次是要把合适的人放在合适的位置上。那怎么知道这个人适合这个位置呢？前面说到我们已经做了系统拆分，那么根据拆分后的系统来分析各系统需要什么样的能力？比如航路引擎需要对算法比较熟悉，规则系统需要很强的学习能力和技术功底，搜索引擎需要对分布式和性能优化比较熟悉。明确了各个位置需要的能力后，就可以去找相应的人了。</p>
<p>第三是要能够做好backup，如果你不希望在关键时刻因为关键人物不在而导致业务受影响，那么就尽量避免出现单点。如果人手短缺万不得已，那么TL可以加强团队代码review，熟悉每个子系统的逻辑，这样能够确保在关键时刻其他人能够顶上，同时也能够帮助团队提升技术能力。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://fengfu.io/2015/12/28/ATPCO项目总结--技术篇/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="宁静·致远">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="宁静·致远">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/12/28/ATPCO项目总结--技术篇/" itemprop="url">ATPCO项目总结-技术篇</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-12-28T20:41:09+08:00">
                2015-12-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          
             <span id="/2015/12/28/ATPCO项目总结--技术篇/" class="leancloud_visitors" data-flag-title="ATPCO项目总结-技术篇">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>接着上篇写，这一篇从技术方面来总结一下ATPCO项目。</p>
<h1 id="1-项目特点"><a href="#1-项目特点" class="headerlink" title="1.项目特点"></a>1.项目特点</h1><p>ATPCO是一个业务性非常强的项目，主要体现在以下几点：</p>
<h2 id="1）规则复杂"><a href="#1）规则复杂" class="headerlink" title="1）规则复杂"></a>1）规则复杂</h2><p>ATPCO提供的数据主要分为：Fares、Rules、Routings三类数据。其中Fare与Rules、Routings存在强关联。Rules中包含了8类Record数据，即Record1-Record8。其中Record3中又划分成35项Category。每一个Category分别表示一类运价规则，如Cat1表示乘客类型的规则，Cat2表示适用航班的规则，Cat3表示淡旺季规则……</p>
<h2 id="2）计算量大"><a href="#2）计算量大" class="headerlink" title="2）计算量大"></a>2）计算量大</h2><p>ATPCO中公布运价数据有9000万条，Rules数据有1亿多条，每个Fare平均关联20多条Rules数据。Fare不仅需要与Rules、Routings进行匹配，还需要与Av（此AV指航班可用座位，不是那个AV）进行匹配。用户一次搜索可能会引起几十万的计算量，如果在短时间内快速计算出结果？可以肯定的一点是：普通的单机计算是行不通的。</p>
<h2 id="3）算法复杂"><a href="#3）算法复杂" class="headerlink" title="3）算法复杂"></a>3）算法复杂</h2><p>这里说的算法复杂主要集中在航路规划方面。目前全球有4000多城市，5000多机场。理论上两个机场都是可以到达的。那么我们可以想象从一个城市到另外一个城市的路径图就是这个样子了：<br><img src="http://i.imgur.com/SweamdD.png" alt=""></p>
<p>是不是很晕？晕就对了，我们在这个坑里面已经1年了，估计航信、携程的同学更能感同身受吧。</p>
<h1 id="2-业务抽象"><a href="#2-业务抽象" class="headerlink" title="2.业务抽象"></a>2.业务抽象</h1><p>上面已经提到，ATPCO的规则比较复杂，那么相应的转换到技术层面，其业务抽象也会比较有挑战。好在我们有Carl de Marcken（ITA创始人，后被Google收购）这位大牛，他写的几篇专利文章为我们提供了极大的帮助，在此再度膜拜一下。参考Carl的专利，我们抽象出了Itinerary、Journey、Pricing Unit、Fare Component几个关键模型，并根据这些模型搭建了整个系统的框架和接口。<br>在其他方面的抽象，我们做得其实不太好。比如搜索条件，我们的业务抽象并不能适应所有的场景，比如多程、缺口程。一方面是我们对业务的理解不够深入，另外一方面也是在设计方面，我们做得还不够好。有时间需要补一下DDD(领域驱动设计)的知识并加以实践了。</p>
<h1 id="3-技术框架"><a href="#3-技术框架" class="headerlink" title="3.技术框架"></a>3.技术框架</h1><h2 id="空间换时间之殇"><a href="#空间换时间之殇" class="headerlink" title="空间换时间之殇"></a>空间换时间之殇</h2><p>从技术框架的层面，应该是这篇总结里面需要长篇叙述的了，因为这个层面踩过的坑还是很多的。<br>在项目初期，考虑到ATPCO涉及的数据量和计算量比较大，我们决定采用空间换时间的方式，即事先把数据组装好，在搜索的时候直接使用事先计算好的数据以减少响应时间。这种方式后来被证明是错误的，因为事先组装数据的方式意味着一旦数据有变化，事先生成的数据就需要重新生成，而在我们对ATPCO规则理解不断深入的情况下，这种情况是非常频繁的。另一方面，如果需要调整计算模型，或者系统有bug，那么所有数据就需要重跑。在这种机制下，整个系统好比一艘航空母舰，庞大、笨重，如果需要转身，我们只能默默地等待……</p>
<h2 id="简单为美"><a href="#简单为美" class="headerlink" title="简单为美"></a>简单为美</h2><p>因为历史原因，我们在接手ATPCO的同事，还负责维护另外一个比较老的公布运价系统。为了兼容老的系统，我们在收到用户请求后，分别调用老系统、新系统，收到结果后进行合并，并返回给调用端。这样的好处是能够保证新、老系统互不影响，一个系统出问题的时候，另外一个系统依然能够提供服务。但是这样的设计也有弊端，因为增加了请求分发、数据合并的环节，中间环节变多，势必导致复杂性升高，同时效率降低，势必也会导致响应时间变长。</p>
<p>很多时候，简单跟高效是成正比的。就像AK47一样，因为设计简单，其结果就是很少出故障，而且维护简单。比如在越战时期，很多美军士兵宁可使用捡到的AK47步枪，也不愿使用自己的M16，因为M16结构复杂而且容易卡壳，在战场上枪支卡壳那可是丢性命的事情……</p>
<p>由此引申出来的问题就是，不管是做系统架构设计、还是模块设计，都应该遵循简单为美的原则。只有简单，系统才容易理解，才容易维护，才会高效运转。所以当我们头脑中有方案的时候，要多问问自己，这是否已经是最简单高效的方案了。</p>
<h2 id="优雅的服务化"><a href="#优雅的服务化" class="headerlink" title="优雅的服务化"></a>优雅的服务化</h2><p>在构建一个复杂系统的时候，如果系统内部功能彼此独立，那么可以考虑采用服务化的方式：即各子系统之间协商好服务接口，彼此通过服务的方式进行调用。这样的好处是各系统之间互相独立，互不影响。这样能够提高系统自身的扩展性、可维护性，并降低系统间的耦合性。ATPCO系统按照功能特点，划分成了Processor、Planner、Searcher、Engine四个子系统，系统与系统之间通过dubbo的方式进行调用。这种方式使得开发人员只关注自己的业务逻辑实现即可，因此能够提升自身的开发效率。当然这种方式的弊端就是服务之间调用时的沟通、联调、排错成本相对较高，但是相比因此带来的整体效率提升，这点成本还是可以接受的。</p>
<p>目前在互联网行业，服务化的理念已经深入人心，包括现在逐渐流行的微服务。在此借鉴著名SOA专家Thomas Erl的归纳的服务设计原则：</p>
<ol>
<li>标准化的服务契约 Standardized service contract</li>
<li>服务的松耦合 Service loose coupling</li>
<li>服务的抽象 Service abstraction</li>
<li>服务的可重用性 Service reusability</li>
<li>服务的自治性 Service autonomy</li>
<li>服务的无状态性 Service statelessness</li>
<li>服务的可发现性 Service discoverability</li>
<li>服务的可组合性 Service composability</li>
</ol>
<p>当然如果如果一个系统中有很多同质化的服务或子系统，那么在系统稳定后，可以考虑将这些服务合并，以降低维护成本。我曾经听一个同事讲过他维护的一个与外部航司交互的接口群，每个接口都是一个子系统，一共有20多个子系统。这种系统维护的时候就比较麻烦，因为某些业务策略的修改可能要修改所有的子系统，这种情况下就可以考虑将服务合并，以降低维护的成本。</p>
<h2 id="分布式的挑战"><a href="#分布式的挑战" class="headerlink" title="分布式的挑战"></a>分布式的挑战</h2><p>ATPCO系统是一个计算密集型的系统，一个用户请求可能会产生几十万次的计算。在这种情况下，单机的计算能力将会成为整个系统的瓶颈，因此必须采用分布式计算的方式将巨大的计算量拆分到不同的机器上进行处理，最终将结果合并。这里所说的分布式计算有2种方式：一种是采用MapReduce的方式，即将数据分发到不同的机器上进行处理；另外一种方式就是RDD(Resilient Distributed Dataset)的方式，即将算法分发到不同的机器上，由各自己自行读取数据进行处理。</p>
<p>在ATPCO系统中，我们计划采用第二种方式实现分布式计算。之所以说计划，是因为目前只是制定了方案，但并没有投入应用，相信这不会太久。</p>
<p>分布式的另外一个应用方向就是对于ATPCO文件的处理。ATPCO每个小时都会给我们推送新的数据，如果我们的系统有问题的时候，很有可能需要从最初的文件重新处理。如果堆积了几个月的文件需要重跑，那么这将是一个灾难。于是我们采用了分布式处理的方式，即由多台机器按发布航司分别处理数据，这样系统的处理能力可以成倍增加，比如我用10台机器重新处理数据，那么其速度将是以前单机处理时的10倍。这样的话，我们就再也不用担心重跑数据了，O(∩_∩)O哈哈~</p>
<h2 id="4-技术管理"><a href="#4-技术管理" class="headerlink" title="4.技术管理"></a>4.技术管理</h2><p>技术管理这个事情可以新开一篇blog来总结了，在此只说关键的几点吧：</p>
<ol>
<li>招聘，人才是最重要的，创意人才(来自谷歌的《重新定义公司》一书)更重要！</li>
<li>技术路线/框架制定，并根据反馈适时调整</li>
<li>参与关键技术问题的攻克</li>
<li>代码review，这一点很重要，但是也很容易忽略</li>
<li>团队激励，将团队捏合成一个整体，团队协同，群策群力才能成功</li>
<li>技术创新，科技是第一生产力</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://fengfu.io/2015/04/02/Java-编程中关于异常处理的-10-个最佳实践/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="宁静·致远">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="宁静·致远">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/04/02/Java-编程中关于异常处理的-10-个最佳实践/" itemprop="url">【转】Java 编程中关于异常处理的 10 个最佳实践</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-04-02T14:39:39+08:00">
                2015-04-02
              </time>
            

            

            
          </span>

          

          
            
          

          
          
             <span id="/2015/04/02/Java-编程中关于异常处理的-10-个最佳实践/" class="leancloud_visitors" data-flag-title="【转】Java 编程中关于异常处理的 10 个最佳实践">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>英文原文：<a href="http://javarevisited.blogspot.in/2013/03/0-exception-handling-best-practices-in-Java-Programming.html" target="_blank" rel="external">10 Exception handling Best Practices in Java Programming</a></p>
<p>异常处理在编写健壮的Java应用的过程中，扮演着一个重要的角色。它并不是应用的功能需求，且需要优雅的处理任何错误情况，例如资源不可用，错误的输入，null输入等等。Java提供几个异常处理功能，并通过try, catch 和  finally关键字内嵌在语言的本身。Java编程语言同样允许创建新的异常和使用  throw 和 throws 抛出该异常。在实践中，异常处理不单单是知道语法这么简单。编写健壮的代码是更像是一门艺术，在本文中，将讨论Java异常处理最佳实践。这些 Java最佳实践遵循标准的JDK库，和几个处理错误和异常的开源代码。这还是一个提供给java程序员编写健壮代码的便利手册。</p>
<p>这里是我收集的10个Java编程中进行异常处理的10最佳实践。在Java编程中对于检查异常有褒有贬，强制处理异常是一门语言的功能。在本文中，我们将尽量减少使用检查型异常，同时学会在Java编程中使用检查型VS非检查型异常。</p>
<h2 id="1-为可恢复的错误使用检查型异常，为编程错误使用非检查型错误"><a href="#1-为可恢复的错误使用检查型异常，为编程错误使用非检查型错误" class="headerlink" title="1. 为可恢复的错误使用检查型异常，为编程错误使用非检查型错误"></a>1. 为可恢复的错误使用检查型异常，为编程错误使用非检查型错误</h2><p>选择检查型还是非检查型异常，对于Java编程人员来说，总是让人感到困惑。检查型异常保证你对错误条件提供异常处理代码，这是一种从语言到强制你编写健壮的代码的一种方式，但同时会引入大量杂乱的代码并导致其不可读。当然，如果你有替代品和恢复策略的话，捕捉异常并做些什么看起来似乎也在理。在Java编程中选择检查型异常还是运行时异常，更多信息参考 <a href="http://javarevisited.blogspot.com/2011/12/checked-vs-unchecked-exception-in-java.html" target="_blank" rel="external">checked vs unchecked exceptions</a>。</p>
<h2 id="2-在finally程序块中关闭或者释放资源"><a href="#2-在finally程序块中关闭或者释放资源" class="headerlink" title="2. 在finally程序块中关闭或者释放资源"></a>2. 在finally程序块中关闭或者释放资源</h2><p>这在Java编程中，是一个广为人知的最佳实践，在处理网络和IO类的时候，相当于一个标准。在finally块中关闭资源， 在正常和异常执行的情况下，保证之前和稀缺资源的合理释放，这由y finally块保证。从Java7开始，该语言有了一项更有趣的功能：<a href="http://javarevisited.blogspot.com/2011/09/arm-automatic-resource-management-in.html" target="_blank" rel="external">资源管理自动化或者ARM块</a>能实现这一功能。尽管如此，我们仍然要记住在finally块中关闭资源，这是对于释放像FileDescriptors这类，应用在socket和文件编程的情况下的有限资源很重要的。</p>
<h2 id="3-在堆栈跟踪中包含引起异常的原因"><a href="#3-在堆栈跟踪中包含引起异常的原因" class="headerlink" title="3. 在堆栈跟踪中包含引起异常的原因"></a>3. 在堆栈跟踪中包含引起异常的原因</h2><p>很多时候，当一个由另一个异常导致的异常被抛出的时候，Java库和开放源代码会将一种异常包装成另一种异常。日志记录和打印根异常就变得非常重要。Java异常类提供了 getCause()方法来检索导致异常的原因，这些（原因）可以对异常的根层次的原因提供更多的信息。该Java实践对在进行调试或排除故障大有帮助。时刻记住，如果你将一个异常包装成另一种异常时，构造一个新异常要传递源异常。</p>
<h2 id="4-始终提供关于异常的有意义的完整的信息"><a href="#4-始终提供关于异常的有意义的完整的信息" class="headerlink" title="4. 始终提供关于异常的有意义的完整的信息"></a>4. 始终提供关于异常的有意义的完整的信息</h2><p>异常信息是最重要的地方，因为这是程序员首先看到的第一个地方，这里你能找到问题产生的根本原因。这里始终提供精确的真实的信息。例如，对比IllegalArgumentException 异常的两条异常信息：<br>消息 1: “Incorrect argument for method”<br>消息 2: “Illegal value for ${argument}: ${value}<br>第一条消息仅说明了参数是非法的或者不正确，但第二条消息包括了参数名和非法值，而这对于找到错误的原因是很重要的。在用Java编程中编写异常处理代码的时候，始终遵循该Java最佳实践。</p>
<h2 id="5-避免过度使用检查型异常"><a href="#5-避免过度使用检查型异常" class="headerlink" title="5. 避免过度使用检查型异常"></a>5. 避免过度使用检查型异常</h2><p>检查型异常在强制执行方面有一定的优势，但同时它也破坏了代码，通过掩盖业务逻辑使代码可读性降低。只要你不过度使用检查型异常，你可以最大限度的减少这类情况，这样做的结果是你会得到更清洁的代码。你同样可以使用Java7的新功能，像<a href="http://javarevisited.blogspot.com/2011/07/jdk7-multi-cache-block-example-tutorial.html" target="_blank" rel="external">one catch block for multiple exceptions 和 automatic resource management</a>以移除重复项。</p>
<h2 id="6-将检查型异常转为运行时异常"><a href="#6-将检查型异常转为运行时异常" class="headerlink" title="6. 将检查型异常转为运行时异常"></a>6. 将检查型异常转为运行时异常</h2><p>这是在像Spring之类的多数框架中用来限制使用检查型异常的技术之一，大部分出自于JDBC的检查型异常，都被包装进DataAccessException中，而（DataAccessException）异常是一种非检查型异常。这是Java最佳实践带来的好处，特定的异常限制到特定的模块，像 SQLException 放到DAO层，将意思明确的运行时异常抛到客户层。</p>
<h2 id="7-记住对性能而言，异常代价高昂"><a href="#7-记住对性能而言，异常代价高昂" class="headerlink" title="7. 记住对性能而言，异常代价高昂"></a>7. 记住对性能而言，异常代价高昂</h2><p>需要记住的一件事是异常代价高昂，同时让你的代码运行缓慢。假如你有方法从ResultSet（结果集）中进行读取，这时常会抛出SQLException异常而不会移到下一元素，这将会比不抛出异常的正常代码执行的慢的多。因此最大限度的减少不必要的异常捕捉和移动，那里没有什么固定的原因。不要仅仅是抛出和捕捉异常，如果你能使用boolean变量去表示执行结果，可能会得到更整洁，更高性能的解决方案。修正错误的根源，避免不必须要的异常捕捉。</p>
<h2 id="8-避免catch块为空"><a href="#8-避免catch块为空" class="headerlink" title="8. 避免catch块为空"></a>8. 避免catch块为空</h2><p>没有什么比空的catch块更糟糕的了，因为它不仅隐藏了错误和异常，同时可能导致你的对象处于不可使用或者脏的状态。空的catch块只能变得无意义，如果你非常肯定异常不会继续以任何方式影响对象状态，但在程序执行期间，用日志记录错误依然是最好的（方法）。对于在Java编程中编写异常处理代码，这不仅仅是一个Java最佳实践，而是一个最通用的实践。</p>
<h2 id="9-使用标准异常"><a href="#9-使用标准异常" class="headerlink" title="9. 使用标准异常"></a>9. 使用标准异常</h2><p>我们的第九条最佳实践建议使用标准和内置的Java异常。使用标准异常而不是每次创建我们自己的异常，对于维护性和一致性，不管是现在还是以后，都是最好的选择。重用标准异常使代码更具可读性，因为大部分Java开发人员对标准的像源自于JDK的RuntimeException 异常，IllegalStateException 异常，IllegalArgumentException 异常或者 NullPointerException异常，（开发者）他们能一眼就知道每种异常的目的，而不是在代码里查找或者在文档里查找用户定义的异常的目的。</p>
<h2 id="10-记录任何方法抛出的异常"><a href="#10-记录任何方法抛出的异常" class="headerlink" title="10. 记录任何方法抛出的异常"></a>10. 记录任何方法抛出的异常</h2><p>Java提供了throw和throws关键字来抛出异常，在javadoc中用@throw记录任何方法可能会抛出的异常。如果你编写API或者公共接口，这就变得非常重要。任何方法抛出的异常都有相应的文档记录，这样你就能下意识的提醒任何使用（该方法）的人。</p>
<p>这些就是所有在Java编程中在处理异常的时候需要遵循的最佳实践。让我们知道了什么是在Java编程中编写异常处理代码时需要遵循的实践。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://fengfu.io/2015/03/08/23种设计模式/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="宁静·致远">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="宁静·致远">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/03/08/23种设计模式/" itemprop="url">23种设计模式</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-03-08T20:41:09+08:00">
                2015-03-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          
             <span id="/2015/03/08/23种设计模式/" class="leancloud_visitors" data-flag-title="23种设计模式">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>设计模式分为3大类（创建型、结构型、行为型），共23种。</p>
<ol>
<li><p>创建型模式：单例模式、工厂模式、抽象工厂模式、建造者模式、原型模式；</p>
</li>
<li><p>结构型模式：适配器模式、桥接模式、装饰模式、组合模式、外观模式、享元模式、代理模式；</p>
</li>
<li><p>行为型模式：模板方法模式、命令模式、迭代器模式、观察者模式、中介者模式、备忘录模式、解释器模式、状态模式、策略模式、职责链模式、访问者模式；</p>
</li>
</ol>
<p>关于建造者模式和工厂模式：<br>当创造一个对象需要很多步骤时适合使用建造者模式。而当只需调用一个方法就可以简单地创建整个对象时适合使用工厂模式。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://fengfu.io/2015/02/21/Intellij Idea快捷键大全/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="宁静·致远">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="宁静·致远">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/02/21/Intellij Idea快捷键大全/" itemprop="url">Intellij Idea快捷键大全</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-02-21T19:41:09+08:00">
                2015-02-21
              </time>
            

            

            
          </span>

          

          
            
          

          
          
             <span id="/2015/02/21/Intellij Idea快捷键大全/" class="leancloud_visitors" data-flag-title="Intellij Idea快捷键大全">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><p>IntelliJ IDEA 的便捷操作性，快捷键的功劳占了一大半，对于各个快捷键组合请认真对待。IntelliJ IDEA 本身的设计思维是提倡键盘优先于鼠标的，所以各种快捷键组合层出不穷，对于快捷键设置也有各种支持，对于其他 IDE 的快捷键组合也有预设模板进行支持。</p>
<p>关于各个快捷键的频率分类上可能每个人都有各自的看法，下面的整理也只是已我个人的使用习惯来划分的，而我应该是可以代表某一部分小众人员。但是我个人还是建议你可以在我的基础上整理一份属于的快捷键目录，本篇文章也只是起到一个工具和引子的作用。</p>
<p>对于下面各个快捷键的使介绍描述也许用我个人语言翻译起来不够准确或是不全面，且在不同的文件类型上按出来的效果也可能结果不太一样,所以 <strong>强烈建议</strong> 你自己把各个快捷键都亲自操作下体会下各个快捷键的实际用法。</p>
<h2 id="前提"><a href="#前提" class="headerlink" title="前提"></a>前提</h2><p>由于文化的不同，我们使用的电脑必备一个软件就是中文输入法，而目前大多数人都使用搜狗拼音输入法或是其他类似的。而这些输入法跟 IntelliJ IDEA 有一个万恶的冲突永恒不变：快捷键冲突。所以为了配合 IntelliJ IDEA，我们要去掉这些输入法下的所有快捷键。</p>
<p><img src="images/xxvii-c-keymap-premise-1.jpg" alt="前提"></p>
<blockquote>
<ul>
<li>如上图红色圈住内容所示，默认是 <code>逗号</code> 我改为了 ESC 键下的 <code>波浪号</code>，<code>Ctrl + 逗号</code> 这个快捷键适合做智能提示用，下面的快捷键列表会讲。</li>
</ul>
</blockquote>
<p><img src="images/xxvii-c-keymap-premise-2.jpg" alt="前提"></p>
<blockquote>
<ul>
<li>如上图红色圈住内容所示，这些快捷键很容易跟 IntelliJ IDEA 快捷键冲突，需要全部去掉。</li>
</ul>
</blockquote>
<p><img src="images/xxvii-c-keymap-premise-3.jpg" alt="前提"></p>
<blockquote>
<ul>
<li>如上图红色圈住内容所示，QQ 这些快捷键也很容易跟 IntelliJ IDEA 快捷键冲突，需要全部去掉，最多保持一个截图功能即可。</li>
</ul>
</blockquote>
<p>可能还有其他一些软件，比如网易云音乐、有道词典等等这些软件都可能存在快捷键冲突，所以为了 IntelliJ IDEA 这些软件的快捷键都是值得舍弃的，如果你在开发的时候。</p>
<h2 id="Ctrl"><a href="#Ctrl" class="headerlink" title="Ctrl"></a>Ctrl</h2><table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">介绍</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Ctrl + F</td>
<td style="text-align:left">在当前文件进行文本查找 <code>（必备）</code></td>
</tr>
<tr>
<td style="text-align:left">Ctrl + R</td>
<td style="text-align:left">在当前文件进行文本替换 <code>（必备）</code></td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Z</td>
<td style="text-align:left">撤销 <code>（必备）</code></td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Y</td>
<td style="text-align:left">删除光标所在行 或 删除选中的行 <code>（必备）</code></td>
</tr>
<tr>
<td style="text-align:left">Ctrl + X</td>
<td style="text-align:left">剪切光标所在行 或 剪切选择内容</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + C</td>
<td style="text-align:left">复制光标所在行 或 复制选择内容</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + D</td>
<td style="text-align:left">复制光标所在行 或 复制选择内容，并把复制内容插入光标位置下面 <code>（必备）</code></td>
</tr>
<tr>
<td style="text-align:left">Ctrl + W</td>
<td style="text-align:left">递进式选择代码块。可选中光标所在的单词或段落，连续按会在原有选中的基础上再扩展选中范围 <code>（必备）</code></td>
</tr>
<tr>
<td style="text-align:left">Ctrl + E</td>
<td style="text-align:left">显示最近打开的文件记录列表</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + N</td>
<td style="text-align:left">根据输入的 <strong>类名</strong> 查找类文件</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + G</td>
<td style="text-align:left">在当前文件跳转到指定行处</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + J</td>
<td style="text-align:left">插入自定义动态代码模板</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + P</td>
<td style="text-align:left">方法参数提示显示</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Q</td>
<td style="text-align:left">光标所在的变量 / 类名 / 方法名等上面（也可以在提示补充的时候按），显示文档内容</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + U</td>
<td style="text-align:left">前往当前光标所在的方法的父类的方法 / 接口定义</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + B</td>
<td style="text-align:left">进入光标所在的方法/变量的接口或是定义出，等效于 <code>Ctrl + 左键单击</code></td>
</tr>
<tr>
<td style="text-align:left">Ctrl + K</td>
<td style="text-align:left">版本控制提交项目，需要此项目有加入到版本控制才可用</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + T</td>
<td style="text-align:left">版本控制更新项目，需要此项目有加入到版本控制才可用</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + H</td>
<td style="text-align:left">显示当前类的层次结构</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + O</td>
<td style="text-align:left">选择可重写的方法</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + I</td>
<td style="text-align:left">选择可继承的方法</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + +</td>
<td style="text-align:left">展开代码</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + -</td>
<td style="text-align:left">折叠代码</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + /</td>
<td style="text-align:left">注释光标所在行代码，会根据当前不同文件类型使用不同的注释符号 <code>（必备）</code></td>
</tr>
<tr>
<td style="text-align:left">Ctrl + [</td>
<td style="text-align:left">移动光标到当前所在代码的花括号开始位置</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + ]</td>
<td style="text-align:left">移动光标到当前所在代码的花括号结束位置</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + F1</td>
<td style="text-align:left">在光标所在的错误代码出显示错误信息</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + F3</td>
<td style="text-align:left">调转到所选中的词的下一个引用位置</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + F4</td>
<td style="text-align:left">关闭当前编辑文件</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + F8</td>
<td style="text-align:left">在 Debug 模式下，设置光标当前行为断点，如果当前已经是断点则去掉断点</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + F9</td>
<td style="text-align:left">执行 Make Project 操作</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + F11</td>
<td style="text-align:left">选中文件 / 文件夹，使用助记符设定 / 取消书签</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + F12</td>
<td style="text-align:left">弹出当前文件结构层，可以在弹出的层上直接输入，进行筛选</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Tab</td>
<td style="text-align:left">编辑窗口切换，如果在切换的过程又加按上delete，则是关闭对应选中的窗口</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Enter</td>
<td style="text-align:left">智能分隔行</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + End</td>
<td style="text-align:left">跳到文件尾</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Home</td>
<td style="text-align:left">跳到文件头</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Space</td>
<td style="text-align:left">基础代码补全，默认在 Windows 系统上被输入法占用，需要进行修改，建议修改为 <code>Ctrl + 逗号</code> <code>（必备）</code></td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Delete</td>
<td style="text-align:left">删除光标后面的单词或是中文句</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + BackSpace</td>
<td style="text-align:left">删除光标前面的单词或是中文句</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + 1,2,3…9</td>
<td style="text-align:left">定位到对应数值的书签位置</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + 左键单击</td>
<td style="text-align:left">在打开的文件标题上，弹出该文件路径</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + 光标定位</td>
<td style="text-align:left">按 Ctrl 不要松开，会显示光标所在的类信息摘要</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + 左方向键</td>
<td style="text-align:left">光标跳转到当前单词 / 中文句的左侧开头位置</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + 右方向键</td>
<td style="text-align:left">光标跳转到当前单词 / 中文句的右侧开头位置</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + 前方向键</td>
<td style="text-align:left">等效于鼠标滚轮向前效果</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + 后方向键</td>
<td style="text-align:left">等效于鼠标滚轮向后效果</td>
</tr>
</tbody>
</table>
<h2 id="Alt"><a href="#Alt" class="headerlink" title="Alt"></a>Alt</h2><table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">介绍</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Alt + `</td>
<td style="text-align:left">显示版本控制常用操作菜单弹出层</td>
</tr>
<tr>
<td style="text-align:left">Alt + Q</td>
<td style="text-align:left">弹出一个提示，显示当前类的声明 / 上下文信息</td>
</tr>
<tr>
<td style="text-align:left">Alt + F1</td>
<td style="text-align:left">显示当前文件选择目标弹出层，弹出层中有很多目标可以进行选择</td>
</tr>
<tr>
<td style="text-align:left">Alt + F2</td>
<td style="text-align:left">对于前面页面，显示各类浏览器打开目标选择弹出层</td>
</tr>
<tr>
<td style="text-align:left">Alt + F3</td>
<td style="text-align:left">选中文本，逐个往下查找相同文本，并高亮显示</td>
</tr>
<tr>
<td style="text-align:left">Alt + F7</td>
<td style="text-align:left">查找光标所在的方法 / 变量 / 类被调用的地方</td>
</tr>
<tr>
<td style="text-align:left">Alt + F8</td>
<td style="text-align:left">在 Debug 的状态下，选中对象，弹出可输入计算表达式调试框，查看该输入内容的调试结果</td>
</tr>
<tr>
<td style="text-align:left">Alt + Home</td>
<td style="text-align:left">定位 / 显示到当前文件的 <code>Navigation Bar</code></td>
</tr>
<tr>
<td style="text-align:left">Alt + Enter</td>
<td style="text-align:left">IntelliJ IDEA 根据光标所在问题，提供快速修复选择，光标放在的位置不同提示的结果也不同 <code>（必备）</code></td>
</tr>
<tr>
<td style="text-align:left">Alt + Insert</td>
<td style="text-align:left">代码自动生成，如生成对象的 set / get 方法，构造函数，toString() 等</td>
</tr>
<tr>
<td style="text-align:left">Alt + 左方向键</td>
<td style="text-align:left">按左方向切换当前已打开的文件视图</td>
</tr>
<tr>
<td style="text-align:left">Alt + 右方向键</td>
<td style="text-align:left">按右方向切换当前已打开的文件视图</td>
</tr>
<tr>
<td style="text-align:left">Alt + 前方向键</td>
<td style="text-align:left">当前光标跳转到当前文件的前一个方法名位置</td>
</tr>
<tr>
<td style="text-align:left">Alt + 后方向键</td>
<td style="text-align:left">当前光标跳转到当前文件的后一个方法名位置</td>
</tr>
<tr>
<td style="text-align:left">Alt + 1,2,3…9</td>
<td style="text-align:left">显示对应数值的选项卡，其中 1 是 Project 用得最多</td>
</tr>
</tbody>
</table>
<h2 id="Shift"><a href="#Shift" class="headerlink" title="Shift"></a>Shift</h2><table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">介绍</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Shift + F1</td>
<td style="text-align:left">如果有外部文档可以连接外部文档</td>
</tr>
<tr>
<td style="text-align:left">Shift + F2</td>
<td style="text-align:left">跳转到上一个高亮错误 或 警告位置</td>
</tr>
<tr>
<td style="text-align:left">Shift + F3</td>
<td style="text-align:left">在查找模式下，查找匹配上一个</td>
</tr>
<tr>
<td style="text-align:left">Shift + F4</td>
<td style="text-align:left">对当前打开的文件，使用新Windows窗口打开，旧窗口保留</td>
</tr>
<tr>
<td style="text-align:left">Shift + F6</td>
<td style="text-align:left">对文件 / 文件夹 重命名</td>
</tr>
<tr>
<td style="text-align:left">Shift + F7</td>
<td style="text-align:left">在 Debug 模式下，智能步入。断点所在行上有多个方法调用，会弹出进入哪个方法</td>
</tr>
<tr>
<td style="text-align:left">Shift + F8</td>
<td style="text-align:left">在 Debug 模式下，跳出，表现出来的效果跟 <code>F9</code> 一样</td>
</tr>
<tr>
<td style="text-align:left">Shift + F9</td>
<td style="text-align:left">等效于点击工具栏的 <code>Debug</code> 按钮</td>
</tr>
<tr>
<td style="text-align:left">Shift + F10</td>
<td style="text-align:left">等效于点击工具栏的 <code>Run</code> 按钮</td>
</tr>
<tr>
<td style="text-align:left">Shift + F11</td>
<td style="text-align:left">弹出书签显示层</td>
</tr>
<tr>
<td style="text-align:left">Shift + Tab</td>
<td style="text-align:left">取消缩进</td>
</tr>
<tr>
<td style="text-align:left">Shift + ESC</td>
<td style="text-align:left">隐藏当前 或 最后一个激活的工具窗口</td>
</tr>
<tr>
<td style="text-align:left">Shift + End</td>
<td style="text-align:left">选中光标到当前行尾位置</td>
</tr>
<tr>
<td style="text-align:left">Shift + Home</td>
<td style="text-align:left">选中光标到当前行头位置</td>
</tr>
<tr>
<td style="text-align:left">Shift + Enter</td>
<td style="text-align:left">开始新一行。光标所在行下空出一行，光标定位到新行位置</td>
</tr>
<tr>
<td style="text-align:left">Shift + 左键单击</td>
<td style="text-align:left">在打开的文件名上按此快捷键，可以关闭当前打开文件</td>
</tr>
<tr>
<td style="text-align:left">Shift + 滚轮前后滚动</td>
<td style="text-align:left">当前文件的横向滚动轴滚动</td>
</tr>
</tbody>
</table>
<h2 id="Ctrl-Alt"><a href="#Ctrl-Alt" class="headerlink" title="Ctrl + Alt"></a>Ctrl + Alt</h2><table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">介绍</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Ctrl + Alt + L</td>
<td style="text-align:left">格式化代码，可以对当前文件和整个包目录使用 <code>（必备）</code></td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Alt + O</td>
<td style="text-align:left">优化导入的类，可以对当前文件和整个包目录使用 <code>（必备）</code></td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Alt + I</td>
<td style="text-align:left">光标所在行 或 选中部分进行自动代码缩进，有点类似格式化</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Alt + T</td>
<td style="text-align:left">对选中的代码弹出环绕选项弹出层</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Alt + J</td>
<td style="text-align:left">弹出模板选择窗口，讲选定的代码加入动态模板中</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Alt + H</td>
<td style="text-align:left">调用层次</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Alt + B</td>
<td style="text-align:left">在某个调用的方法名上使用会跳到具体的实现处，可以跳过接口</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Alt + V</td>
<td style="text-align:left">快速引进变量</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Alt + Y</td>
<td style="text-align:left">同步、刷新</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Alt + S</td>
<td style="text-align:left">打开 IntelliJ IDEA 系统设置</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Alt + F7</td>
<td style="text-align:left">显示使用的地方。寻找被该类或是变量被调用的地方，用弹出框的方式找出来</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Alt + F11</td>
<td style="text-align:left">切换全屏模式</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Alt + Enter</td>
<td style="text-align:left">光标所在行上空出一行，光标定位到新行</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Alt + Home</td>
<td style="text-align:left">弹出跟当前文件有关联的文件弹出层</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Alt + Space</td>
<td style="text-align:left">类名自动完成</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Alt + 左方向键</td>
<td style="text-align:left">退回到上一个操作的地方 <code>（必备）</code></td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Alt + 右方向键</td>
<td style="text-align:left">前进到上一个操作的地方 <code>（必备）</code></td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Alt + 前方向键</td>
<td style="text-align:left">在查找模式下，跳到上个查找的文件</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Alt + 后方向键</td>
<td style="text-align:left">在查找模式下，跳到下个查找的文件</td>
</tr>
</tbody>
</table>
<h2 id="Ctrl-Shift"><a href="#Ctrl-Shift" class="headerlink" title="Ctrl + Shift"></a>Ctrl + Shift</h2><table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">介绍</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Ctrl + Shift + F</td>
<td style="text-align:left">根据输入内容查找整个项目 或 指定目录内文件 <code>（必备）</code></td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Shift + R</td>
<td style="text-align:left">根据输入内容替换对应内容，范围为整个项目 或 指定目录内文件 <code>（必备）</code></td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Shift + J</td>
<td style="text-align:left">自动将下一行合并到当前行末尾 <code>（必备）</code></td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Shift + Z</td>
<td style="text-align:left">取消撤销 <code>（必备）</code></td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Shift + W</td>
<td style="text-align:left">递进式取消选择代码块。可选中光标所在的单词或段落，连续按会在原有选中的基础上再扩展取消选中范围 <code>（必备）</code></td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Shift + N</td>
<td style="text-align:left">通过文件名定位 / 打开文件 / 目录，打开目录需要在输入的内容后面多加一个正斜杠 <code>（必备）</code></td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Shift + U</td>
<td style="text-align:left">对选中的代码进行大 / 小写轮流转换 <code>（必备）</code></td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Shift + T</td>
<td style="text-align:left">对当前类生成单元测试类，如果已经存在的单元测试类则可以进行选择</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Shift + C</td>
<td style="text-align:left">复制当前文件磁盘路径到剪贴板</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Shift + V</td>
<td style="text-align:left">弹出缓存的最近拷贝的内容管理器弹出层</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Shift + E</td>
<td style="text-align:left">显示最近修改的文件列表的弹出层</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Shift + H</td>
<td style="text-align:left">显示方法层次结构</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Shift + B</td>
<td style="text-align:left">跳转到类型声明处</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Shift + I</td>
<td style="text-align:left">快速查看光标所在的方法 或 类的定义</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Shift + A</td>
<td style="text-align:left">查找动作 / 设置</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Shift + /</td>
<td style="text-align:left">代码块注释 <code>（必备）</code></td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Shift + [</td>
<td style="text-align:left">选中从光标所在位置到它的顶部中括号位置</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Shift + ]</td>
<td style="text-align:left">选中从光标所在位置到它的底部中括号位置</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Shift + +</td>
<td style="text-align:left">展开所有代码</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Shift + -</td>
<td style="text-align:left">折叠所有代码</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Shift + F7</td>
<td style="text-align:left">高亮显示所有该选中文本，按Esc高亮消失</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Shift + F8</td>
<td style="text-align:left">在 Debug 模式下，指定断点进入条件</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Shift + F9</td>
<td style="text-align:left">编译选中的文件 / 包 / Module</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Shift + F12</td>
<td style="text-align:left">编辑器最大化</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Shift + Space</td>
<td style="text-align:left">智能代码提示</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Shift + Enter</td>
<td style="text-align:left">自动结束代码，行末自动添加分号 <code>（必备）</code></td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Shift + Backspace</td>
<td style="text-align:left">退回到上次修改的地方</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Shift + 1,2,3…9</td>
<td style="text-align:left">快速添加指定数值的书签</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Shift + 左方向键</td>
<td style="text-align:left">在代码文件上，光标跳转到当前单词 / 中文句的左侧开头位置，同时选中该单词 / 中文句</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Shift + 右方向键</td>
<td style="text-align:left">在代码文件上，光标跳转到当前单词 / 中文句的右侧开头位置，同时选中该单词 / 中文句</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Shift + 左方向键</td>
<td style="text-align:left">在光标焦点是在工具选项卡上，缩小选项卡区域</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Shift + 右方向键</td>
<td style="text-align:left">在光标焦点是在工具选项卡上，扩大选项卡区域</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Shift + 前方向键</td>
<td style="text-align:left">光标放在方法名上，将方法移动到上一个方法前面，调整方法排序</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Shift + 后方向键</td>
<td style="text-align:left">光标放在方法名上，将方法移动到下一个方法前面，调整方法排序</td>
</tr>
</tbody>
</table>
<h2 id="Alt-Shift"><a href="#Alt-Shift" class="headerlink" title="Alt + Shift"></a>Alt + Shift</h2><table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">介绍</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Alt + Shift + N</td>
<td style="text-align:left">选择 / 添加 task</td>
</tr>
<tr>
<td style="text-align:left">Alt + Shift + F</td>
<td style="text-align:left">显示添加到收藏夹弹出层</td>
</tr>
<tr>
<td style="text-align:left">Alt + Shift + C</td>
<td style="text-align:left">查看最近操作项目的变化情况列表</td>
</tr>
<tr>
<td style="text-align:left">Alt + Shift + F</td>
<td style="text-align:left">添加到收藏夹</td>
</tr>
<tr>
<td style="text-align:left">Alt + Shift + I</td>
<td style="text-align:left">查看项目当前文件</td>
</tr>
<tr>
<td style="text-align:left">Alt + Shift + F7</td>
<td style="text-align:left">在 Debug 模式下，下一步，进入当前方法体内，如果方法体还有方法，则会进入该内嵌的方法中，依此循环进入</td>
</tr>
<tr>
<td style="text-align:left">Alt + Shift + F9</td>
<td style="text-align:left">弹出 <code>Debug</code>  的可选择菜单</td>
</tr>
<tr>
<td style="text-align:left">Alt + Shift + F10</td>
<td style="text-align:left">弹出 <code>Run</code>  的可选择菜单</td>
</tr>
<tr>
<td style="text-align:left">Alt + Shift + 左键双击</td>
<td style="text-align:left">选择被双击的单词 / 中文句，按住不放，可以同时选择其他单词 / 中文句</td>
</tr>
<tr>
<td style="text-align:left">Alt + Shift + 前方向键</td>
<td style="text-align:left">移动光标所在行向上移动</td>
</tr>
<tr>
<td style="text-align:left">Alt + Shift + 后方向键</td>
<td style="text-align:left">移动光标所在行向下移动</td>
</tr>
</tbody>
</table>
<h2 id="Ctrl-Shift-Alt"><a href="#Ctrl-Shift-Alt" class="headerlink" title="Ctrl + Shift + Alt"></a>Ctrl + Shift + Alt</h2><table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">介绍</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Ctrl + Shift + Alt + V</td>
<td style="text-align:left">无格式黏贴</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Shift + Alt + N</td>
<td style="text-align:left">前往指定的变量 / 方法</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Shift + Alt + S</td>
<td style="text-align:left">打开当前项目设置</td>
</tr>
<tr>
<td style="text-align:left">Ctrl + Shift + Alt + C</td>
<td style="text-align:left">复制参考信息</td>
</tr>
</tbody>
</table>
<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">介绍</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">F2</td>
<td style="text-align:left">跳转到下一个高亮错误 或 警告位置 <code>（必备）</code></td>
</tr>
<tr>
<td style="text-align:left">F3</td>
<td style="text-align:left">在查找模式下，定位到下一个匹配处</td>
</tr>
<tr>
<td style="text-align:left">F4</td>
<td style="text-align:left">编辑源</td>
</tr>
<tr>
<td style="text-align:left">F7</td>
<td style="text-align:left">在 Debug 模式下，进入下一步，如果当前行断点是一个方法，则进入当前方法体内，如果该方法体还有方法，则不会进入该内嵌的方法中</td>
</tr>
<tr>
<td style="text-align:left">F8</td>
<td style="text-align:left">在 Debug 模式下，进入下一步，如果当前行断点是一个方法，则不进入当前方法体内</td>
</tr>
<tr>
<td style="text-align:left">F9</td>
<td style="text-align:left">在 Debug 模式下，恢复程序运行，但是如果该断点下面代码还有断点则停在下一个断点上</td>
</tr>
<tr>
<td style="text-align:left">F11</td>
<td style="text-align:left">添加书签</td>
</tr>
<tr>
<td style="text-align:left">F12</td>
<td style="text-align:left">回到前一个工具窗口</td>
</tr>
<tr>
<td style="text-align:left">Tab</td>
<td style="text-align:left">缩进</td>
</tr>
<tr>
<td style="text-align:left">ESC</td>
<td style="text-align:left">从工具窗口进入代码文件窗口</td>
</tr>
<tr>
<td style="text-align:left">连按两次Shift</td>
<td style="text-align:left">弹出 <code>Search Everywhere</code> 弹出层</td>
</tr>
</tbody>
</table>
<h2 id="官网快捷键资料"><a href="#官网快捷键资料" class="headerlink" title="官网快捷键资料"></a>官网快捷键资料</h2><blockquote>
<ul>
<li>Windows / Linux：<a href="https://www.jetbrains.com/idea/docs/IntelliJIDEA_ReferenceCard.pdf" target="_blank" rel="external">https://www.jetbrains.com/idea/docs/IntelliJIDEA_ReferenceCard.pdf</a></li>
<li>Mac OS X：<a href="https://www.jetbrains.com/idea/docs/IntelliJIDEA_ReferenceCard_Mac.pdf" target="_blank" rel="external">https://www.jetbrains.com/idea/docs/IntelliJIDEA_ReferenceCard_Mac.pdf</a></li>
</ul>
</blockquote>
<h2 id="第三方快捷键资料"><a href="#第三方快捷键资料" class="headerlink" title="第三方快捷键资料"></a>第三方快捷键资料</h2><blockquote>
<ul>
<li>来自 eta02913：<a href="http://xinyuwu.iteye.com/blog/1005454" target="_blank" rel="external">http://xinyuwu.iteye.com/blog/1005454</a></li>
</ul>
</blockquote>
<h2 id="快捷键修改"><a href="#快捷键修改" class="headerlink" title="快捷键修改"></a>快捷键修改</h2><p><img src="images/xxvii-a-keymap-setting-1.jpg" alt="修改快捷键"></p>
<blockquote>
<ul>
<li>按 <code>Ctrl + Alt + S</code> 弹出 IDE 设置，如上图选择左侧的 <code>Keymap</code>。</li>
<li>IntelliJ IDEA 支持两种方式来筛选我们要找的快捷键，一种是上图标注 1 所示的，通过输入快捷键描述内容；一种是上图标注 2 所示的，通过 <strong>按</strong> 指定快捷键快捷键，这里需要再次强调的是，这个输入框是自动监听你当前按下的按键，而不是用来输入的。</li>
<li>上图标注 3 所示，初安装的 IntelliJ IDEA 使用的是 <code>Default</code> 的快捷键模板，IntelliJ IDEA 默认的快捷键模板都是不可修改的。如果你直接修改，当前这个位置 IntelliJ IDEA 会自动变成 <code>Default Copy</code>，建议你养成习惯，修改之前先点击 <code>Copy</code>，拷贝一套快捷键模板，然后输入自己的命名。</li>
</ul>
</blockquote>
<p><img src="images/xxvii-a-keymap-setting-2.jpg" alt="修改快捷键"></p>
<blockquote>
<ul>
<li>IntelliJ IDEA 是支持一个操作命令同时设置多个快捷键组合，就如上图的 <code>Backspace</code>，同时支持 <code>Backspace</code> 和 <code>Shift + Backspace</code> 两组快捷键。</li>
<li>要修改某个快捷键，选中快捷键介绍内容，右键，就会弹出如上图标注 1 所示操作选择。</li>
<li>命令 <code>Add Keyboard Shortcut</code> 用来添加新纯键盘快捷键组合。</li>
<li>命令 <code>Add Mouse Shortcut</code> 用来添加新 <code>键盘 + 鼠标</code> 快捷键组合，比如设置 <code>Ctrl + 左键单击</code> 这类快捷组合。其中在弹出的添加面板中 <code>Click Pad</code> 是用来监听当前鼠标是左键单击还是右键单击。</li>
<li>命令 <code>Add Abbreviation</code> 根据 IntelliJ IDEA 的版本文档解释，添加简称主要是为了方便 <code>Search Everywhere</code> 中使用，但是我尝试之后发现没办法根据我设置的简称搜索，暂时无法了解其作用。 </li>
<li>命令 <code>Remove 快捷键</code> 移出当前操作命令已设置的快捷键组合，由于 IntelliJ IDEA 默认就占用了很多快捷键组合，所以如果你要修改某个快捷键，建议还是删除掉旧的。 </li>
</ul>
</blockquote>
<p><img src="images/xxvii-a-keymap-setting-3.jpg" alt="修改快捷键"></p>
<blockquote>
<ul>
<li>IntelliJ IDEA 对其他 IDE 用户很友好，比如如上图对于其他主流的 IDE，快捷键上已经默认了有其过度快捷键模板了，但是我还是建议你专心使用 IntelliJ IDEA 的默认。</li>
</ul>
</blockquote>
<h2 id="其他-1"><a href="#其他-1" class="headerlink" title="其他"></a>其他</h2><p><img src="images/xxvii-b-ideavim-1.jpg" alt="vim插件推荐"></p>
<blockquote>
<ul>
<li>如果你是一个 Vim 粉，IntelliJ IDEA 也为你准备了一个方案：如上图安装 IdeaVim 插件即可。</li>
</ul>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://fengfu.io/2015/02/21/Java的SPI机制/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="宁静·致远">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="宁静·致远">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/02/21/Java的SPI机制/" itemprop="url">Java的SPI机制</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-02-21T19:35:09+08:00">
                2015-02-21
              </time>
            

            

            
          </span>

          

          
            
          

          
          
             <span id="/2015/02/21/Java的SPI机制/" class="leancloud_visitors" data-flag-title="Java的SPI机制">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="什么是SPI"><a href="#什么是SPI" class="headerlink" title="什么是SPI"></a>什么是SPI</h2><p>SPI是Service Provider Interface（服务提供者接口）的缩写，从字面意思也能看出，SPI是面向服务提供者的。也就是说，有人定义了接口，那么围绕该接口提供服务的第三方则针对接口提供自己的服务。说到这里，最典型的应该是我们常用的日志框架，比如common-logging、jdbc Driver。</p>
<h2 id="SPI的优点"><a href="#SPI的优点" class="headerlink" title="SPI的优点"></a>SPI的优点</h2><p>基于SPI机制，我们可以很方便地构建出易于扩展的应用。我们使用的很多应用框架，比如dubbo，其中的extension就是基于SPI构建的。</p>
<h2 id="Java-SPI规范"><a href="#Java-SPI规范" class="headerlink" title="Java SPI规范"></a>Java SPI规范</h2><ol>
<li>在META-INF/services/目录下创建以接口全名命名的文件,该文件内容为接口具体实现类的全名;如我有一个实现类io.fengfu.learning.spi.HelloWorldServiceBB8Impl，实现了io.fengfu.learning.spi.HelloWorldService接口，那么就需要在META-INF/services目录下创建一个名称为io.fengfu.learning.spi.HelloWorldService的文件，文件的内容为io.fengfu.learning.spi.HelloWorldServiceBB8Impl。如果我有很多个实现类，那么只需要将实现类全名按行编写即可;</li>
<li>接口具体实现类必须有一个不带参数的构造方法;</li>
<li>使用ServiceLoader类动态加载META-INF中的实现类;</li>
<li>如SPI的实现类为Jar则需要放在主程序classPath中;</li>
</ol>
<h2 id="SPI示例"><a href="#SPI示例" class="headerlink" title="SPI示例"></a>SPI示例</h2><p>1,定义一个接口</p>
<pre><code>package io.fengfu.learning.spi;

/**
 * Created by fengfu.qu on 2014/2/4.
 */
public interface HelloService {
    public String sayHello(String name);
}
</code></pre><p>2, 实现之：</p>
<pre><code>package io.fengfu.learning.spi;

/**
 * Created by fengfu.qu on 2014/2/4.
 */
public class HelloServiceC3poImpl implements HelloService {
    public String sayHello(String name) {
        return &quot;Hello, &quot; + name + &quot;, I&apos;m C3po.&quot;;
    }
}

package io.fengfu.learning.spi;

/**
 * Created by fengfu.qu on 2014/2/4.
 */
public class HelloServiceR2D2Impl implements HelloService {
    public String sayHello(String name) {
        return &quot;Hello, &quot; + name + &quot;, I&apos;m R2D2.&quot;;
    }
}

package io.fengfu.learning.spi;

/**
 * Created by fengfu.qu on 2014/2/4.
 */
public class HelloServiceBB8Impl implements HelloService {
    public String sayHello(String name) {
        return &quot;Hello, &quot; + name + &quot;, I&apos;m BB8.&quot;;
    }
}
</code></pre><p>3, 在META-INF/services目录下创建io.fengfu.learning.spi.HelloService文件，在文件中添加以下内容:</p>
<pre><code>io.fengfu.learning.spi.HelloServiceC3poImpl
io.fengfu.learning.spi.HelloServiceR2D2Impl
io.fengfu.learning.spi.HelloServiceBB8Impl
</code></pre><p>4, 创建测试类：</p>
<pre><code>package io.fengfu.learning.spi;

import java.util.Iterator;
import java.util.ServiceLoader;

/**
 * Created by fengfu.qu on 2014/2/4.
 */
public class SPITest {
    public static void main(String[] args) {
        ServiceLoader&lt;HelloService&gt; loader = ServiceLoader.load(HelloService.class);
        Iterator&lt;HelloService&gt; it = loader.iterator();
        while(it.hasNext()){
            HelloService helloSPI = it.next();
            System.out.println(helloSPI.sayHello(&quot;Fengfu&quot;));
        }
    }
}
</code></pre><p>5, 运行，结果为：</p>
<pre><code>Hello, Fengfu, I&apos;m C3po.
Hello, Fengfu, I&apos;m R2D2.
Hello, Fengfu, I&apos;m BB8.
</code></pre><p>由此看出，3个是实现类都被运行了。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://fengfu.io/2015/02/14/利特尔法则/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="宁静·致远">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="宁静·致远">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/02/14/利特尔法则/" itemprop="url">利特尔法则</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-02-14T20:41:09+08:00">
                2015-02-14
              </time>
            

            

            
          </span>

          

          
            
          

          
          
             <span id="/2015/02/14/利特尔法则/" class="leancloud_visitors" data-flag-title="利特尔法则">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>##概念##</p>
<p>利特尔法则由麻省理工大学斯隆商学院（MIT Sloan School of Management）的教授John Little﹐于1961年所提出与证明。其英文名称为：Little’s Law。<br>利特尔法则是一个有关提前期与在制品关系的简单数学公式，这一法则为精益生产的改善方向指明了道路。 如何有效地缩短生产周期呢？利特尔法则已经很明显地指出了方向：一个方向是提高产能，从而降低生产节拍；另一个方向就是压缩存货数量。然而，提高产能往往意味着增加很大的投入。另外，生产能力的提升虽然可以缩短生产周期，但是生产能力的提升总有个限度，我们无法容忍生产能力远远超过市场的需求。一般来说，每个公司在一定时期内的生产能力是大致不变的，而从长期来看，各公司也会力图使自己公司的产能与市场需求相吻合。因此，最有效地缩短生产周期的方法就是压缩在制品数量。<br>利特尔法则不仅适用于整个系统，而且也适用于系统的任何一部分。</p>
<p>##公式##</p>
<p><img src="http://cdn.lieyunwang.com/wp-content/uploads/2014/11/0e1490aebb8c1b4.png" alt=""></p>
<p>L=系统中的平均项目数量；</p>
<p>W=一个项目在系统中所需等待的平均时间；</p>
<p>λ=单位时间内项目到达的平均数量；</p>
<p><strong>在一个稳定的系统中，长时间观察到的平均顾客数量L，等于，长时间观察到的有效到达速率λ与平均每个顾客在系统中花费的时间W之乘积。</strong></p>
<p>##举例##</p>
<p>比如我们要去一个快餐店吃饭，这个快餐店平均每分钟有2个人进入，每个人平均用餐时间是0.5小时，那么算一下这个饭店当前有多少人在用餐？<br>答案：2 <em> 0.5 </em> 60 = 60人<br>其中2为速率λ，0.5为花费时间W，60为小时换算成与速率一致的单位的系数。</p>
<p>再举一个估算系统QPS的例子：<br>假如我们有个系统，每天的访问量是200万次，系统处理每次请求平均花费的时间是3秒，那么系统能够支撑的QPS是多少？<br>QPS = 2000000/24/3600/3 = 7.7</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="宁静·致远" />
          <p class="site-author-name" itemprop="name">宁静·致远</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">44</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">7</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">宁静·致远</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Gemini
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.2"></script>



  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("pq7j7M6jaVzlRAhO3VhuFy1O-gzGzoHsz", "Fqlk4xsApzNKqC5HV87nMkix");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  

  

  

</body>
</html>
